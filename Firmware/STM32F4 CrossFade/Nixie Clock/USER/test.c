#include "test.h"
#include "pwm.h"
#include "NixieTube.h"
#include "delay.h"
void ShowNumTest(){
    M1_Set();
	  M2_Set();
    H1_Set();
    H2_Set();
    delay_ms(2000);
    while(1){
			        M1_Num0(0);delay_ms(2000);M1_Num0(1);delay_ms(2000);
        M1_Num1(0);delay_ms(2000);M1_Num1(1);delay_ms(2000);
        M1_Num2(0);delay_ms(2000);M1_Num2(1);delay_ms(2000);
        M1_Num3(0);delay_ms(2000);M1_Num3(1);delay_ms(2000);
        M1_Num4(0);delay_ms(2000);M1_Num4(1);delay_ms(2000);
        M1_Num5(0);delay_ms(2000);M1_Num5(1);delay_ms(2000);
        M1_Num6(0);delay_ms(2000);M1_Num6(1);delay_ms(2000);
        M1_Num7(0);delay_ms(2000);M1_Num7(1);delay_ms(2000);
        M1_Num8(0);delay_ms(2000);M1_Num8(1);delay_ms(2000);
        M1_Num9(0);delay_ms(2000);M1_Num9(1);delay_ms(2000);
        M1_Num0(0);delay_ms(2000);
        M1_Num0To1(0);delay_ms(2000);
        M1_Num1To2(0);delay_ms(2000);
        M1_Num2To3(0);delay_ms(2000);
        M1_Num3To4(0);delay_ms(2000);
        M1_Num4To5(0);delay_ms(2000);
        M1_Num5To6(0);delay_ms(2000);
        M1_Num6To7(0);delay_ms(2000);
        M1_Num7To8(0);delay_ms(2000);
        M1_Num8To9(0);delay_ms(2000);
        M1_Num9To0(0);delay_ms(2000);
        M1_Num0(1);delay_ms(2000);
        M1_Num9(0);delay_ms(2000);
        M1_Num8To9(1);delay_ms(2000);
        M1_Num7To8(1);delay_ms(2000);
        M1_Num6To7(1);delay_ms(2000);
        M1_Num5To6(1);delay_ms(2000);
        M1_Num4To5(1);delay_ms(2000);
        M1_Num3To4(1);delay_ms(2000);
        M1_Num2To3(1);delay_ms(2000);
        M1_Num1To2(1);delay_ms(2000);
        M1_Num0To1(1);delay_ms(2000);
        M1_Num0(1);delay_ms(2000);
			
			
        H2_Num0(0);delay_ms(2000);H2_Num0(1);delay_ms(2000);
        H2_Num1(0);delay_ms(2000);H2_Num1(1);delay_ms(2000);
        H2_Num2(0);delay_ms(2000);H2_Num2(1);delay_ms(2000);
        H2_Num3(0);delay_ms(2000);H2_Num3(1);delay_ms(2000);
        H2_Num4(0);delay_ms(2000);H2_Num4(1);delay_ms(2000);
        H2_Num5(0);delay_ms(2000);H2_Num5(1);delay_ms(2000);
        H2_Num6(0);delay_ms(2000);H2_Num6(1);delay_ms(2000);
        H2_Num7(0);delay_ms(2000);H2_Num7(1);delay_ms(2000);
        H2_Num8(0);delay_ms(2000);H2_Num8(1);delay_ms(2000);
        H2_Num9(0);delay_ms(2000);H2_Num9(1);delay_ms(2000);
        H2_Num0(0);delay_ms(2000);
        H2_Num0To1(0);delay_ms(2000);
        H2_Num1To2(0);delay_ms(2000);
        H2_Num2To3(0);delay_ms(2000);
        H2_Num3To4(0);delay_ms(2000);
        H2_Num4To5(0);delay_ms(2000);
        H2_Num5To6(0);delay_ms(2000);
        H2_Num6To7(0);delay_ms(2000);
        H2_Num7To8(0);delay_ms(2000);
        H2_Num8To9(0);delay_ms(2000);
        H2_Num9To0(0);delay_ms(2000);
        H2_Num0(1);delay_ms(2000);
        H2_Num9(0);delay_ms(2000);
        H2_Num8To9(1);delay_ms(2000);
        H2_Num7To8(1);delay_ms(2000);
        H2_Num6To7(1);delay_ms(2000);
        H2_Num5To6(1);delay_ms(2000);
        H2_Num4To5(1);delay_ms(2000);
        H2_Num3To4(1);delay_ms(2000);
        H2_Num2To3(1);delay_ms(2000);
        H2_Num1To2(1);delay_ms(2000);
        H2_Num0To1(1);delay_ms(2000);
        H2_Num0(1);delay_ms(2000);

        H1_Num0(0);delay_ms(2000);H1_Num0(1);delay_ms(2000);
        H1_Num1(0);delay_ms(2000);H1_Num1(1);delay_ms(2000);
        H1_Num2(0);delay_ms(2000);H1_Num2(1);delay_ms(2000);
        H1_Num3(0);delay_ms(2000);H1_Num3(1);delay_ms(2000);
        H1_Num4(0);delay_ms(2000);H1_Num4(1);delay_ms(2000);
        H1_Num5(0);delay_ms(2000);H1_Num5(1);delay_ms(2000);
        H1_Num6(0);delay_ms(2000);H1_Num6(1);delay_ms(2000);
        H1_Num7(0);delay_ms(2000);H1_Num7(1);delay_ms(2000);
        H1_Num8(0);delay_ms(2000);H1_Num8(1);delay_ms(2000);
        H1_Num9(0);delay_ms(2000);H1_Num9(1);delay_ms(2000);
        H1_Num0(0);delay_ms(2000);
        H1_Num0To1(0);delay_ms(2000);
        H1_Num1To2(0);delay_ms(2000);
        H1_Num2To3(0);delay_ms(2000);
        H1_Num3To4(0);delay_ms(2000);
        H1_Num4To5(0);delay_ms(2000);
        H1_Num5To6(0);delay_ms(2000);
        H1_Num6To7(0);delay_ms(2000);
        H1_Num7To8(0);delay_ms(2000);
        H1_Num8To9(0);delay_ms(2000);
        H1_Num9To0(0);delay_ms(2000);
        H1_Num0(1);delay_ms(2000);
        H1_Num9(0);delay_ms(2000);
        H1_Num8To9(1);delay_ms(2000);
        H1_Num7To8(1);delay_ms(2000);
        H1_Num6To7(1);delay_ms(2000);
        H1_Num5To6(1);delay_ms(2000);
        H1_Num4To5(1);delay_ms(2000);
        H1_Num3To4(1);delay_ms(2000);
        H1_Num2To3(1);delay_ms(2000);
        H1_Num1To2(1);delay_ms(2000);
        H1_Num0To1(1);delay_ms(2000);
        H1_Num0(1);delay_ms(2000);

        M2_Num0(0);delay_ms(2000);M2_Num0(1);delay_ms(2000);
        M2_Num1(0);delay_ms(2000);M2_Num1(1);delay_ms(2000);
        M2_Num2(0);delay_ms(2000);M2_Num2(1);delay_ms(2000);
        M2_Num3(0);delay_ms(2000);M2_Num3(1);delay_ms(2000);
        M2_Num4(0);delay_ms(2000);M2_Num4(1);delay_ms(2000);
        M2_Num5(0);delay_ms(2000);M2_Num5(1);delay_ms(2000);
        M2_Num6(0);delay_ms(2000);M2_Num6(1);delay_ms(2000);
        M2_Num7(0);delay_ms(2000);M2_Num7(1);delay_ms(2000);
        M2_Num8(0);delay_ms(2000);M2_Num8(1);delay_ms(2000);
        M2_Num9(0);delay_ms(2000);M2_Num9(1);delay_ms(2000);
        M2_Num0(0);delay_ms(2000);
        M2_Num0To1(0);delay_ms(2000);
        M2_Num1To2(0);delay_ms(2000);
        M2_Num2To3(0);delay_ms(2000);
        M2_Num3To4(0);delay_ms(2000);
        M2_Num4To5(0);delay_ms(2000);
        M2_Num5To6(0);delay_ms(2000);
        M2_Num6To7(0);delay_ms(2000);
        M2_Num7To8(0);delay_ms(2000);
        M2_Num8To9(0);delay_ms(2000);
        M2_Num9To0(0);delay_ms(2000);
        M2_Num0(1);delay_ms(2000);
        M2_Num9(0);delay_ms(2000);
        M2_Num8To9(1);delay_ms(2000);
        M2_Num7To8(1);delay_ms(2000);
        M2_Num6To7(1);delay_ms(2000);
        M2_Num5To6(1);delay_ms(2000);
        M2_Num4To5(1);delay_ms(2000);
        M2_Num3To4(1);delay_ms(2000);
        M2_Num2To3(1);delay_ms(2000);
        M2_Num1To2(1);delay_ms(2000);
        M2_Num0To1(1);delay_ms(2000);
        M2_Num0(1);delay_ms(2000);


    }
    /*
    TIM4_PWM_Init(500-1,84-1,1,1,1,1);	//84M/84=1Mhz的计数频率,重装载值50，所以PWM频率为 1M/500=2Khz.  
    TIM_SetCompare1(TIM4,0);
    TIM_SetCompare2(TIM4,0);
    TIM_SetCompare3(TIM4,0);
    TIM_SetCompare4(TIM4,0);
    //while(1);
    delay_ms(3000);
    while(1){
        TIM4_CH1_Init(1);
        TIM4_CH2_Init(1);
        TIM4_CH3_Init(1);
        TIM4_CH4_Init(1);
        pwmval=0;
        while(1){
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
        }
        delay_ms(2000);
        //while(1);
        TIM4_CH1_Init(2);
        pwmval=0;
        while(1){
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
            TIM_SetCompare2(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(1);
        pwmval=0;
        while(1){//3
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(2);
        TIM4_CH2_Init(2);
        pwmval=0;
        while(1){//4
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
            TIM_SetCompare2(TIM4,pwmval);
            TIM_SetCompare3(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(1);
        pwmval=0;
        while(1){//5
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(2);
        TIM4_CH2_Init(1);
        pwmval=0;
        while(1){//6
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
            TIM_SetCompare2(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(1);
        pwmval=0;
        while(1){//7
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(2);
        TIM4_CH2_Init(2);
        TIM4_CH3_Init(2);
        pwmval=0;
        while(1){//8
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
            TIM_SetCompare2(TIM4,pwmval);
            TIM_SetCompare3(TIM4,pwmval);
            TIM_SetCompare4(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(1);
        pwmval=0;
        while(1){//9
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
        }
        delay_ms(2000);
        TIM4_CH1_Init(2);
        TIM4_CH4_Init(2);
        pwmval=0;
        while(1){//0
            delay_ms(1);
            pwmval++;
            if(pwmval>=500)break;
            TIM_SetCompare1(TIM4,pwmval);
            TIM_SetCompare4(TIM4,pwmval);
        }
        delay_ms(2000);
    }
    */
   /*while(1) //实现比较值从0-300递增，到300后从300-0递减，循环
	{
 		delay_ms(10);	 
		if(dir)led0pwmval++;//dir==1 led0pwmval递增
		else led0pwmval--;	//dir==0 led0pwmval递减 
 		if(led0pwmval>300)dir=0;//led0pwmval到达300后，方向为递减
		if(led0pwmval==0)dir=1;	//led0pwmval递减到0后，方向改为递增
 
		TIM_SetCompare1(TIM4,led0pwmval);	//修改比较值，修改占空比
	}*/
}
